(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a587"],{bab4:function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a._m(0),e("a-tabs",{attrs:{type:"card"}},[e("a-tab-pane",{key:"1",attrs:{tab:"Detail"}},[e("a-form",{attrs:{form:a.form,layout:"vertical"},on:{submit:a.saveTaskHandler}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("a-form-item",{attrs:{label:"Nama Tugas"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:a.tugas.dataEdit.name,rules:[{required:!0,message:"Nama tugas harus diisi"}]}],expression:"['name', {initialValue: tugas.dataEdit.name, rules: [{ required: true, message: 'Nama tugas harus diisi'}]}]"}]})],1)],1),e("div",{staticClass:"col-md-6"},[e("a-form-item",{attrs:{label:"Bobot Tugas (dalam hari)"}},[e("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["weight",{initialValue:a.tugas.dataEdit.weight}],expression:"['weight', {initialValue: tugas.dataEdit.weight}]"}],staticClass:"w-100"})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("a-form-item",{attrs:{label:"Keterangan Tugas"}},[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["detail",{initialValue:a.tugas.dataEdit.detail}],expression:"['detail', {initialValue: tugas.dataEdit.detail}]"}]})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("a-form-item",{attrs:{label:"Ditugaskan ke"}},[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["programmer_id",{initialValue:a.tugas.dataEdit.programmer_id}],expression:"['programmer_id', {initialValue: tugas.dataEdit.programmer_id}]"}]},a._l(a.tugas.dataProgrammer,(function(t){return e("a-select-option",{key:t.id+t.name,attrs:{value:t.id}},[a._v(a._s(t.name))])})),1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("a-form-item",{attrs:{label:"Status Tugas"}},[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:a.tugas.dataEdit.status}],expression:"['status', { initialValue: tugas.dataEdit.status }]"}],on:{change:a.handleStatusChange}},[e("a-select-option",{attrs:{value:"TODO"}},[a._v("ToDo")]),e("a-select-option",{attrs:{value:"DOING"}},[a._v("Doing")]),e("a-select-option",{attrs:{value:"DONE"}},[a._v("Done")])],1)],1)],1)]),a.showStartAt?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("a-form-item",{attrs:{label:"Tanggal Mulai"}},[e("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["start_at",{initialValue:a.tugas.dataEdit.start_at,rules:[{required:a.showStartAt,message:"Tanggal harus diisi"}]}],expression:"['start_at', {initialValue: tugas.dataEdit.start_at, rules: [{ required: showStartAt, message: 'Tanggal harus diisi'}]}]"}],staticStyle:{width:"100%"}})],1)],1)]):a._e(),a.showEndAt?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("a-form-item",{attrs:{label:"Tanggal Selesai"}},[e("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["end_at",{initialValue:a.tugas.dataEdit.end_at,rules:[{required:a.showStartAt,message:"Tanggal harus diisi"}]}],expression:"['end_at', {initialValue: tugas.dataEdit.end_at, rules: [{ required: showStartAt, message: 'Tanggal harus diisi' }]}]"}],staticStyle:{width:"100%"}})],1)],1)]):a._e(),e("a-form-item",[e("a-button",{attrs:{type:"primary",htmlType:"submit"}},[a._v("Simpan")])],1)],1),e("div",{staticClass:"col-md-6"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"ADMIN"===a.user.role,expression:"user.role === 'ADMIN'"}],staticClass:"col-md-12 order-md-last pr-0 text-right"},[e("a-popconfirm",{attrs:{title:"Yakin mau hapus data tugas ini?",okText:"Ya",cancelText:"Tidak"},on:{confirm:a.confirm}},[e("a-button",{attrs:{type:"danger",htmlType:"button"}},[a._v("Hapus Data")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!!a.tugas.dataEdit.grade,expression:"!!tugas.dataEdit.grade"}],staticClass:"col-md-12 mt-1 card px-2 py-3"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"col-md mx-2 py-3 card text-center"},[e("h5",[a._v("Lama Pengerjaan")]),e("h3",[a._v(a._s(a.tugas.dataEdit.dateGrade?a.tugas.dataEdit.dateGrade.toFixed(0):"")+" / 30")])]),e("div",{staticClass:"col-md mx-2 py-3 card text-center"},[e("h5",[a._v("Bebas Bug")]),e("h3",[a._v(a._s(a.tugas.dataEdit.bugGrade?a.tugas.dataEdit.bugGrade.toFixed(0):"")+" / 50")])]),e("div",{staticClass:"col-md mx-2 py-3 card text-center"},[e("h5",[a._v("Pemahaman")]),e("h3",[a._v(a._s(a.tugas.dataEdit.comprehensionGrade?a.tugas.dataEdit.comprehensionGrade.toFixed(0):"")+" / 20")])])]),e("div",{staticClass:"text-center my-3"},[e("h2",[a._v(a._s(a.tugas.dataEdit.numberGrade?a.tugas.dataEdit.numberGrade.toFixed(0):"")+" | "+a._s(a.tugas.dataEdit.grade))])]),e("div",{staticClass:"alert alert-primary mt-3"},[e("p",[a._v("Range Nilai:")]),e("ul",[e("li",[a._v("85-100 : A (Sangat Baik)")]),e("li",[a._v("75-84 : B (Baik)")]),e("li",[a._v("60-74 : C (Cukup)")]),e("li",[a._v("50-59 : D (Kurang)")]),e("li",[a._v("< 50 : E (Sangat Kurang)")])])])])])])])],1),e("a-tab-pane",{key:"2",attrs:{tab:"Feedback"}},[e("a-list",{attrs:{"item-layout":"horizontal","data-source":a.tugas.dataFeedback},scopedSlots:a._u([{key:"renderItem",fn:function(t){return e("a-list-item",{},[e("a-list-item-meta",{attrs:{description:t.feedback}},[e("h5",{attrs:{slot:"title"},slot:"title"},[a._v("From: "+a._s(t.programmer_name))]),e("a-avatar",{attrs:{slot:"avatar"},slot:"avatar"},[a._v(a._s(t.programmer_name[0]))])],1),e("span",{attrs:{slot:"actions"},slot:"actions"},[a._v(a._s(a.formatDate(t.created_at)))])],1)}}])}),e("a-divider"),e("a-form",{attrs:{form:a.formFeedback,layout:"vertical"},on:{submit:a.saveFeedbackHandler}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("a-form-item",{attrs:{label:"Tambah Feedback"}},[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["feedback",{}],expression:"['feedback', {}]"}]})],1),e("a-form-item",[e("a-button",{attrs:{type:"primary",htmlType:"submit"}},[a._v("Simpan")])],1)],1)])])],1),e("a-tab-pane",{directives:[{name:"show",rawName:"v-show",value:!a.tugas.dataEdit.is_evaluated,expression:"!tugas.dataEdit.is_evaluated"}],key:"3",attrs:{tab:"Penilaian",disabled:a.tugas.dataEdit.is_evaluated||"DONE"!==a.tugas.dataEdit.status}},[e("a-form",{staticClass:"col-md-6 offset-md-6",attrs:{form:a.formEval,layout:"vertical"},on:{submit:a.saveEvalHandler}},[e("a-card",{attrs:{size:"small",title:"Lama Pengerjaan"}},[e("a-form-item",{attrs:{label:"Estimasi / Bobot hari"}},[e("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["weight",{initialValue:a.tugas.dataEdit.weight,rules:[{required:!0,message:"Estimasi / Bobot hari harus diisi"}]}],expression:"['weight', {initialValue: tugas.dataEdit.weight, rules: [{ required: true, message: 'Estimasi / Bobot hari harus diisi'}]}]"}],staticStyle:{width:"100%"}})],1),e("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"Tanggal Pengerjaan"}},[e("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[e("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["start_at",{initialValue:a.utc(a.tugas.dataEdit.start_at),rules:[{required:!0,message:"Tanggal awal harus diisi"}]}],expression:"['start_at', {initialValue: utc(tugas.dataEdit.start_at), rules: [{ required: true, message: 'Tanggal awal harus diisi'}]}]"}],staticStyle:{width:"100%"}})],1),e("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[a._v(" - ")]),e("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[e("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["end_at",{initialValue:a.utc(a.tugas.dataEdit.end_at),rules:[{required:!0,message:"Tanggal akhir harus diisi"}]}],expression:"['end_at', {initialValue: utc(tugas.dataEdit.end_at), rules: [{ required: true, message: 'Tanggal akhir harus diisi'}]}]"}],staticStyle:{width:"100%"}})],1)],1)],1),e("br"),e("a-card",{attrs:{size:"small",title:"Bebas Bug"}},[e("a-form-item",{attrs:{label:"Toleransi Bug"}},[e("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["bug_tolerance",{initialValue:a.tugas.dataEdit.bug_tolerance,rules:[{required:!0,message:"Toleransi Bug harus diisi"}]}],expression:"['bug_tolerance', {initialValue: tugas.dataEdit.bug_tolerance, rules: [{ required: true, message: 'Toleransi Bug harus diisi'}]}]"}],staticStyle:{width:"100%"}})],1),e("a-form-item",{attrs:{label:"Aktual Bug"}},[e("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["actual_bug",{initialValue:a.tugas.dataEdit.actual_bug,rules:[{required:!0,message:"Aktual Bug harus diisi"}]}],expression:"['actual_bug', {initialValue: tugas.dataEdit.actual_bug, rules: [{ required: true, message: 'Aktual Bug harus diisi'}]}]"}],staticStyle:{width:"100%"}})],1)],1),e("br"),e("a-card",{attrs:{size:"small",title:"Pemahaman Tugas"}},[e("a-form-item",{attrs:{label:"Pemahaman Tugas"}},[e("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["comprehension",{initialValue:a.tugas.dataEdit.comprehension,rules:[{required:!0,message:"Pemahaman Tugas harus diisi"}]}],expression:"['comprehension', {initialValue: tugas.dataEdit.comprehension, rules: [{ required: true, message: 'Pemahaman Tugas harus diisi' }]}]"}],staticStyle:{width:"100%"},attrs:{min:0,max:100,formatter:function(a){return a+"%"},parser:function(a){return a.replace("%","")}}})],1)],1),e("br"),e("a-form-item",[e("a-button",{attrs:{type:"primary",htmlType:"submit"}},[a._v("Simpan")])],1)],1)],1)],1)],1)},s=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"kit__utils__heading"},[e("h5",[a._v("Ubah Data Tugas")])])}],r=e("f3f3"),d=e("2b0e"),l=e("2f62"),u=e("41cb"),o=e("c1df"),n=e.n(o),m={data:function(){return{form:this.$form.createForm(this),formFeedback:this.$form.createForm(this),formEval:this.$form.createForm(this)}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["b"])(["tugas"])),Object(l["b"])(["user"])),{},{showStartAt:function(){return"TODO"!==this.tugas.dataEdit.status},showEndAt:function(){return"DONE"===this.tugas.dataEdit.status}}),beforeCreate:function(){var a=this.$route.query.id;a||u["a"].push("/tugas"),this.$store.dispatch("tugas/LOAD_DATA_PROGRAMMER",{payload:!1}),this.$store.dispatch("tugas/LOAD_DATA_EDIT_TUGAS",{payload:{id:a}}),this.$store.dispatch("tugas/LOAD_DATA_FEEDBACK",{payload:{id:a}})},methods:{saveTaskHandler:function(a){var t=this;a.preventDefault(),this.form.validateFields((function(a,e){var i=t.$route.query.id;a||t.$store.dispatch("tugas/EDIT_TUGAS",{payload:{id:i,data:e}})}))},saveFeedbackHandler:function(a){var t=this;a.preventDefault(),this.formFeedback.validateFields((function(a,e){var i=t.$route.query.id;a||(t.$store.dispatch("tugas/CREATE_FEEDBACK",{payload:{data:Object(r["a"])({task_id:+i},e)}}),t.formFeedback.resetFields())}))},saveEvalHandler:function(a){var t=this;a.preventDefault(),this.formEval.validateFields((function(a,e){if(console.log(e.start_at),e.start_at.isSameOrBefore(e.end_at)){var i=t.$route.query.id;a||t.$store.dispatch("tugas/NILAI_TUGAS",{payload:{id:i,data:e}})}else d["default"].prototype.$notification.error({message:"Gagal!",description:"Format tanggal salah"})}))},handleStatusChange:function(a){this.showStartAt="TODO"!==a,this.showEndAt="DONE"===a},confirm:function(){var a=this.$route.query.id;this.$store.dispatch("tugas/DELETE_TUGAS",{payload:{id:a}})},formatDate:function(a){return n()(a).format("DD MMM YYYY")},utc:o["utc"]}},c=m,g=e("2877"),v=Object(g["a"])(c,i,s,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d21a587.f3af0b68.js.map